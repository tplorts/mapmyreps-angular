<button (click)="selectForLocation()">Use my location</button>

<svg [attr.width]="width" [attr.height]="height">
  <g class="states">
    <svg:path
      *ngFor="let state of stateFeatures"
      class="state-path"
      [ngClass]="{ 'selected': isSelected(state) }"
      [attr.d]="state.pathData"
      [matTooltip]="state.name"
      (click)="selectState(state)"
    ></svg:path>
  </g>
  <svg:path class="state-borders" [attr.d]="stateBordersPathData"></svg:path>
</svg>

<mat-card class="state-info-card">
  <mat-card-content>
    <h3>{{ selectedStateName || 'No State Selected' }}</h3>
    <div *ngIf="selectedState">
      <div *ngIf="!allReps; else repList" class="inline-waiting-message">
        <mat-spinner [diameter]="20"></mat-spinner>
        <p>still downloading your reps</p>
      </div>
      <ng-template #repList>
        <div *ngFor="let repSet of repSets">
          <h4>{{ repSet.title }}</h4>
          <mat-grid-list cols="8" class="rep-grid-list">
            <mat-grid-tile 
              *ngFor="let rep of repSet.reps"
              class="rep-grid-tile"
              [ngClass]="rep.partyStyleClass"
            >
              <div class="rep-image"
                [ngStyle]="repImageStyle(rep)"
              ></div>
              <mat-grid-tile-footer class="rep-grid-tile-footer">
                <a href="{{ rep.mainUrl }}"
                   target="_blank"
                >{{ rep.fullName }}</a>
              </mat-grid-tile-footer>
            </mat-grid-tile>
          </mat-grid-list>
        </div>
      </ng-template>
    </div>
  </mat-card-content>
</mat-card>